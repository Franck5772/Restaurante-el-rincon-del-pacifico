"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[318],{81318:function(e,a,r){r.r(a),r.d(a,{default:function(){return h}});var s=r(16966),t=r(36879),i=r(2761),n=r(23205);let l=(0,n.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),c=(0,n.Z)("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),o=(0,n.Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var d=r(45950),m=r(42661),u=r(51560);let b=t.forwardRef((e,a)=>{var r;let{item:n,index:b,onAddToCart:h,isHighlighted:x}=e,[f,g]=(0,t.useState)(1),[p,j]=(0,t.useState)(""),[v,y]=(0,t.useState)(!1),[N,w]=(0,t.useState)(!1),D=(0,t.useRef)(null);(0,t.useEffect)(()=>{D.current&&"function"==typeof a&&a(D.current)},[a]);let k=e=>{g(Math.max(1,Math.min(10,e)))};return(0,s.jsxs)("div",{className:"product-card bg-white rounded-xl overflow-hidden border shadow-sm hover:shadow-lg transition-all duration-300 ".concat(x?"border-amber-400 ring-2 ring-amber-300 ring-offset-2":"border-amber-100"),ref:D,style:{opacity:n.available?"1":"0.5"},"data-product-id":n.id,children:[(0,s.jsxs)("div",{className:"relative overflow-hidden",children:[(0,s.jsx)("div",{className:"h-44 bg-gradient-to-br from-amber-50 to-amber-100 flex items-center justify-center overflow-hidden",children:(()=>{if(n.imageUrl&&n.imageUrl.startsWith("http"))return(0,s.jsx)(i.default,{src:n.imageUrl,alt:n.name,width:300,height:200,className:"h-full w-full object-cover transition-transform duration-300 hover:scale-105",onError:e=>{let a=e.target;a&&a.style&&(a.style.display="none",a.nextElementSibling&&(a.nextElementSibling.style.display="block"))}});{let e=n.imageUrl||"\uD83C\uDF2E";if(!e||""===e){if(n.id)switch(n.id.toLowerCase()){case"taco-pastor":case"taco-suadero":case"taco-bistec":case"taco-campechano":case"taco-carnitas":e="\uD83C\uDF2E";break;case"agua-horchata":e="\uD83E\uDD5B";break;case"agua-jamaica":case"jugo-manzana":e="\uD83E\uDDC3";break;case"refresco":e="\uD83E\uDD64";break;case"guacamole":e="\uD83E\uDD51";break;case"quesadilla":case"queso-extra":e="\uD83E\uDDC0";break;case"cebollitas":e="\uD83E\uDDC5"}if("\uD83C\uDF2E"===e&&n.categoryId)switch(n.categoryId.toLowerCase()){case"tacos":e="\uD83C\uDF2E";break;case"bebidas":e="\uD83E\uDD64";break;case"extras":e="\uD83C\uDF7D️"}}return(0,s.jsx)("span",{className:"text-6xl transform hover:scale-110 transition-transform duration-300",children:e})}})()}),n.featured&&(0,s.jsx)("div",{className:"absolute top-2 right-2 bg-amber-500 text-white text-xs font-bold px-2 py-1 rounded-full shadow-sm animate-pulse",children:"Popular"}),!n.available&&(0,s.jsx)("div",{className:"absolute inset-0 bg-gray-900/70 flex items-center justify-center backdrop-blur-sm",children:(0,s.jsx)("span",{className:"bg-red-500 text-white px-3 py-2 rounded-lg font-bold text-sm transform -rotate-12 shadow-lg",children:"No disponible"})}),n.allergens&&n.allergens.length>0&&(0,s.jsxs)("div",{className:"absolute bottom-2 left-2 bg-white/90 text-gray-700 text-xs font-medium px-2 py-1 rounded-full shadow-sm cursor-help flex items-center hover:bg-amber-50 transition-colors",onClick:()=>y(!v),children:[(0,s.jsx)(l,{size:12,className:"mr-1 text-amber-500"}),(0,s.jsx)("span",{children:"Al\xe9rgenos"})]})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsx)("h3",{className:"font-bold text-amber-900 text-lg",children:n.name}),(0,s.jsx)("span",{className:"price-tag font-bold text-green-600 bg-green-50 px-3 py-1 rounded-full text-sm shadow-sm hover:scale-105 transition-transform",children:(e=>{let a=e%1!=0;return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:a?2:0,maximumFractionDigits:a?2:0}).format(e).replace("$","$ ")})(n.price)})]}),(0,s.jsx)("p",{className:"text-amber-700 text-sm mb-4 line-clamp-2 min-h-[2.5rem]",children:n.description}),v&&(0,s.jsxs)("div",{className:"mb-4 p-3 bg-amber-50 rounded-lg text-xs animate-fade-in border border-amber-100",children:[n.allergens&&n.allergens.length>0&&(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("span",{className:"font-medium text-amber-900",children:"Al\xe9rgenos:"})," ",(null===(r=n.allergens)||void 0===r?void 0:r.join(", "))||""]}),n.nutritionalInfo&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-amber-900",children:"Info. Nutricional:"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-1 mt-1",children:[n.nutritionalInfo.calories&&(0,s.jsxs)("div",{children:["Calor\xedas: ",(0,s.jsx)("span",{className:"font-medium",children:n.nutritionalInfo.calories})]}),n.nutritionalInfo.protein&&(0,s.jsxs)("div",{children:["Prote\xednas: ",(0,s.jsxs)("span",{className:"font-medium",children:[n.nutritionalInfo.protein,"g"]})]}),n.nutritionalInfo.carbs&&(0,s.jsxs)("div",{children:["Carbohidratos: ",(0,s.jsxs)("span",{className:"font-medium",children:[n.nutritionalInfo.carbs,"g"]})]}),n.nutritionalInfo.fat&&(0,s.jsxs)("div",{children:["Grasas: ",(0,s.jsxs)("span",{className:"font-medium",children:[n.nutritionalInfo.fat,"g"]})]})]})]})]}),n.available&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)("input",{type:"text",placeholder:"Instrucciones especiales",className:"w-full p-2 border border-amber-200 rounded text-sm focus:outline-none focus:ring-2 focus:ring-amber-300 transition-all",value:p,onChange:e=>j(e.target.value),disabled:N})}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center bg-amber-100 rounded-lg overflow-hidden",children:[(0,s.jsx)("button",{className:"p-2 text-amber-700 hover:bg-amber-200 transition-colors disabled:opacity-50",onClick:()=>k(f-1),disabled:f<=1||N,"aria-label":"Disminuir cantidad",children:(0,s.jsx)(c,{size:18})}),(0,s.jsx)("span",{className:"px-4 font-medium text-amber-900 select-none min-w-[2rem] text-center",children:f}),(0,s.jsx)("button",{className:"p-2 text-amber-700 hover:bg-amber-200 transition-colors disabled:opacity-50",onClick:()=>k(f+1),disabled:f>=10||N,"aria-label":"Aumentar cantidad",children:(0,s.jsx)(o,{size:18})})]}),(0,s.jsx)("button",{className:"flex items-center justify-center space-x-1 bg-amber-500 hover:bg-amber-600 text-white px-3 py-2 rounded-lg transition-all transform hover:scale-105 active:scale-95 disabled:opacity-70 min-w-[8rem] ".concat(N?"animate-pulse":""),onClick:()=>{w(!0);try{(0,u.GN)("add-to-cart",.7),(0,m.u0)(n.id,f,p||void 0),"function"==typeof h&&h(n,f,p||void 0),setTimeout(()=>{w(!1),j(""),D.current&&D.current.classList.remove("added-to-cart")},800)}catch(e){console.error("Error al a\xf1adir al carrito:",e),w(!1)}},disabled:N||!n.available,"aria-label":"Agregar al carrito",children:N?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),(0,s.jsx)("span",{children:"Agregando..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{size:18,className:"mr-1"}),(0,s.jsx)("span",{children:"Agregar"})]})})]})]})]})]})});b.displayName="MenuCard";var h=b}}]);